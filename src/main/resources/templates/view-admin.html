<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org">

<head>
    <title>Detail Admin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <object th:include="fragments/fragment :: css" th:remove="tag"></object>
</head>
<body>
    <nav th:replace="fragments/fragment :: navbar('Daftar Admin')"></nav>
    <div class="main-content">
        <div class="card p-4 m-5 col-sm-9 card-section" style="height: auto;">
            <div class="card-body">
                <div class="justify-content-center">
                    <h2>Detail Admin</h2>
                    <!-- error message -->
                    <div th:if="${error1}">
                        <div class="alert alert-danger">Edit profile failed! Username has been used.</div>
                    </div>

                    <!-- error message -->
                    <div th:if="${error2}">
                        <div class="alert alert-danger">Edit profile failed! Email has been used.</div>
                    </div>

                    <!-- success message -->
                    <div th:if="${success}">
                        <div class="alert alert-info">Data successfully edited!</div>
                    </div>
                    <br>
                    <table class="table" style="width:100%;">
                        <tr>
                            <th style="width:30%;"></th>
                            <th></th>
                        </tr>
                        <tr>
                            <td>
                                <p>Username</p>
                                <p>Nama</p>
                                <p>Asal RS</p>
                                <p>Alamat Email</p>
                            </td>
                            <td>
                                <p th:text="${user.username}"></p>
                                <p th:text=" ${user.firstname} + ' ' + ${user.lastname}"></p>
                                <p th:text="'RS '+${user.rumahSakit.namaRumahSakit}"></p>
                                <p th:text="${user.email}"></p>
                            </td>
                        </tr>
                    </table>
                    <div class="d-flex flex-row">
                        <a class="btn btn-primary mr-2" th:href="@{/update-admin/} + ${user.username}">Update</a>
                    </div>

                    <br>
                    <h2>Detail Rumah Sakit</h2>
                    <table class="table" style="width:100%;">
                        <tr>
                            <th style="width:30%;"></th>
                            <th></th>
                        </tr>
                        <tr>
                            <td>
                                <p>Nama RS</p>
                                <p>Jenis RS</p>
                                <p>Kelas RS</p>
                                <p>Kepemilikan RS</p>
                                <p>Nomor Telepon RS</p>
                                <p>Email RS</p>
                                <p>Website RS</p>
                                <br>
                                <h5>Alamat RS</h5>
                                <p>Jalan</p>
                                <p>Kelurahan</p>
                                <p>Kecamatan</p>
                                <p>Kabupaten</p>
                                <p>Provinsi</p>
                                <p>Kode pos</p>
                            </td>
                            <td>
                                <p th:text="${rumahsakit.namaRumahSakit}"></p>
                                <div th:if="${rumahsakit.jenis == ''}">
                                    <p>-</p>
                                </div>
                                <p th:text=" ${rumahsakit.jenis}"></p>
                                <div th:if="${rumahsakit.kelas == ''}">
                                    <p>-</p>
                                </div>
                                <p th:text="${rumahsakit.kelas}"></p>
                                <div th:if="${rumahsakit.kepemilikan == ''}">
                                    <p>-</p>
                                </div>
                                <p th:text="${rumahsakit.kepemilikan}"></p>
                                <div th:if="${rumahsakit.notelp == ''}">
                                    <p>-</p>
                                </div>
                                <p th:text="${rumahsakit.notelp}"></p>
                                <div th:if="${rumahsakit.email == ''}">
                                    <p>-</p>
                                </div>
                                <p th:text="${rumahsakit.email}"></p>
                                <div th:if="${rumahsakit.website == ''}">
                                    <p>-</p>
                                </div>
                                <p th:text="${rumahsakit.website}"></p>
                                <br><h5>&nbsp</h5>
                                <div th:if="${rumahsakit.jalan == ''}">
                                    <p>-</p>
                                </div>
                                <p th:text=" ${rumahsakit.jalan}"></p>
                                <div th:if="${rumahsakit.kelurahan == ''}">
                                    <p>-</p>
                                </div>
                                <p th:text="${rumahsakit.kelurahan}"></p>
                                <div th:if="${rumahsakit.kecamatan == ''}">
                                    <p>-</p>
                                </div>
                                <p th:text="${rumahsakit.kecamatan}"></p>
                                <div th:if="${rumahsakit.kabupaten == ''}">
                                    <p>-</p>
                                </div>
                                <p th:text="${rumahsakit.kabupaten}"></p>
                                <div th:if="${rumahsakit.provinsi == ''}">
                                    <p>-</p>
                                </div>
                                <p th:text="${rumahsakit.provinsi}"></p>
                                <div th:if="${rumahsakit.kodepos == ''}">
                                    <p>-</p>
                                </div>
                                <p th:text="${rumahsakit.kodepos}"></p>
                            </td>
                        </tr>
                    </table>
                    <div class="d-flex flex-row">
                        <a class="btn btn-outline-primary mr-2" th:href="@{/viewall-admin}">Kembali</a>
                        <button class="btn btn-primary" data-toggle="modal" data-target="#modalForm">Update Data RS</button>
                    </div>

                    <div class="modal fade" id="modalForm" tabindex="-1" role="dialog" aria-labelledby="myModal"
                         aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header text-center">
                                    <h4 class="modal-title w-100 font-weight-bold">Update Data RS</h4>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <form th:action="@{/viewadmin/}+${user.username}" th:object="${rumahsakit}" method="POST" class="modal-form">
                                    <div class="modal-body mx-3">
                                        <div class="md-form mb-3">
                                            <input type="hidden" name="id" id="id" th:value="*{id}">
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="namaRumahSakit">Nama RS</label>
                                            </div>
                                            <input type="text" name="namaRumahSakit" id="namaRumahSakit" class="form-control validate" th:value="*{namaRumahSakit}" required>
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="jenis">Jenis RS</label>
                                            </div>
                                            <input type="text" name="jenis" id="jenis" class="form-control validate" th:value="*{jenis}">
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="kelas">Kelas RS</label>
                                            </div>
                                            <input type="text" name="kelas" id="kelas" class="form-control validate" th:value="*{kelas}">
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="kepemilikan">Kepemilikan RS</label>
                                            </div>
                                            <input type="text" name="kepemilikan" id="kepemilikan" class="form-control validate" th:value="*{kepemilikan}">
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="notelp">Nomor Telepon RS</label>
                                            </div>
                                            <input type="text" name="notelp" id="notelp" class="form-control validate" th:value="*{notelp}">
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="email">Email RS</label>
                                            </div>
                                            <input type="text" name="email" id="email" class="form-control validate" th:value="*{email}">
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="website">Website RS</label>
                                            </div>
                                            <input type="text" name="website" id="website" class="form-control validate" th:value="*{website}">

                                            <br>
                                            <h5>Alamat RS</h5>
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="jalan">Jalan</label>
                                            </div>
                                            <input type="text" name="jalan" id="jalan" class="form-control validate" th:value="*{jalan}">
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="kelurahan">Kelurahan</label>
                                            </div>
                                            <input type="text" name="kelurahan" id="kelurahan" class="form-control validate" th:value="*{kelurahan}">
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="kecamatan">Kecamatan</label>
                                            </div>
                                            <input type="text" name="kecamatan" id="kecamatan" class="form-control validate" th:value="*{kecamatan}">
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="kabupaten">Kabupaten</label>
                                            </div>
                                            <input type="text" name="kabupaten" id="kabupaten" class="form-control validate" th:value="*{kabupaten}">
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="provinsi">Provinsi</label>
                                            </div>
                                            <input type="text" name="provinsi" id="provinsi" class="form-control validate" th:value="*{provinsi}">
                                            <div class="d-flex flex-row">
                                                <label data-error="wrong" data-success="right" for="kodepos">Kode pos</label>
                                            </div>
                                            <input type="text" name="kodepos" id="kodepos" class="form-control validate" th:value="*{kodepos}">
                                    
                                        </div>

                                    </div>
                                    <div class="modal-footer d-flex justify-content-center">
                                        <button type="submit" class="btn btn-primary">Submit</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</body>
<object th:include="fragments/fragment :: js" th:remove="tag"></object>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js"></script>
</html>